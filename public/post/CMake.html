<!DOCTYPE html>
<html>
    <head>
	<meta charset="UTF-8">
	<title>CMake</title>
	<link rel="shortcut icon" href="../imag/favicon.ico">
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link rel="stylesheet" href="../module/cc-icons/css/cc-icons.min.css" type="text/css">

	<!-- hightlight code -->
	<link rel="stylesheet" href="../module/highlight/styles/default.min.css">

    </head>

    <nav>
	<a href="../index.html" target="_blank">HOME</a>
	<a href="../about.html" target="_blank">ABOUT</a>
    </nav>

    <body>

	<header>
	    <h1>Learn CMake</h1>
	</header>

	<div>Date: <time>2022-1-6</time>. Last updated: <time>2022-1-6</time>.</div>

	<h2>Modern CMake</h2>
	<p>
	    <ul>
		<li><a href="http://cliutils.gitlab.io/modern-cmake/" target="_blank">Modern CMake</a></li>
		<li><a href="https://hsf-training.github.io/hsf-training-cmake-webpage/aio/index.html" target="_blank">More Modern CMake</a></li>
	    </ul>
	</p>

	<h2>CMake Book</h2>
	<p>
	    <ul>
		<li><a href="https://www.amazon.com/Modern-CMake-Discover-approach-packaging/dp/1801070059/ref=sr_1_1?crid=3KIF66EL5U0OI&keywords=cmake&qid=1651529304&sprefix=cmake%2Caps%2C280&sr=8-1" target="_blank">Modern CMake for C++</a></li>
		<li><a href="https://crascit.com/professional-cmake/" target="_blank">Professional CMake</a></li>
		<li><a href="https://www.bookstack.cn/read/CMake-Cookbook/README.md" target="_blank">CMake Cookbook</a></li>
		<li><a href="https://cmake.org/cmake/help/latest">CMake Documentation</a></li>
		<li><a href="https://gitlab.kitware.com/cmake/community/-/wikis/home">CMake Wiki</a></li>
  	    </ul>
	</p>

	<p>
	    <blockquote>
		Not only are there three categories of variables – normal, cache, and environment – but they also reside in different scopes,
		with specific rules on how one scope affects the other.
	    </blockquote>
	</p>

	<h2>CMake Command</h2>
	<p>
	    <em>cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1</em> <br />
	    <em>cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DCMAKE_CXX_COMPILER=/usr/bin/g++-10  -G "Unix Makefiles"</em> <br />
	    <em>cmake --build build --clean-first --parallel 10</em> <br />
	    <em>cmake --build build --target "foo"</em> <br />
	    <em>cmake --build build --verbose</em> <br />
	    <em>cmake --install build --prefix /tmp/install_test</em> <br />
	</p>

	<h2>CMake Usage</h2>
	<p>
	    <pre><code class="CMake">
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
set(CMAKE_INSTALL_PREFIX testInstall)

# Set default visibility to hidden for all targets
set(CMAKE_CXX_VISIBILITY_PRESET hidden)
set(CMAKE_VISIBILITY_INLINES_HIDDEN YES)
	    </code></pre>

	</p>


	<h2>Library</h2>
	<p>
	    libfoo.so.1   为soname 软连接指向realname: libfoo.so.1.1<br/>
	    libfoo.so.1.1 为realname <br/>
	    libfoo.so     为linkname  <br/>
	    <a href="https://duerrenberger.dev/blog/2021/08/04/understanding-rpath-with-cmake/">Understanding RPATH (With CMake)</a> <br/>
	    <a href="https://gitlab.kitware.com/cmake/community/-/wikis/doc/cmake/RPATH-handling">RPATH handling</a> <br/>
	</p>

	<h2>Project</h2>
	<p>
	    <ul><li><a href="https://github.com/TheLartians/ModernCppStarter">ModernCppStarter</a></li></ul>
	</p>

	<footer>
	    Copyright &copy; <a href="mailto:2962539335@qq.com">Hower Chow</a> 2021 - <script>document.write(new Date().getFullYear())</script> <i class="cc cc-by-nc-sa-eu"></i>
	</footer>

	<script src="../module/highlight/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
    </body>
</html>
